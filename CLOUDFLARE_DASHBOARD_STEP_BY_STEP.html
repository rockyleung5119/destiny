<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudflare Pages Dashboard ç¯å¢ƒå˜é‡è®¾ç½®æŒ‡å—</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            line-height: 1.6;
        }
        .step-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .step-number {
            background: rgba(59, 130, 246, 0.8);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin-right: 15px;
        }
        .step-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 20px;
            font-weight: bold;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            border-left: 4px solid #3b82f6;
        }
        .highlight {
            background: rgba(255, 255, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }
        .warning {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid rgba(245, 158, 11, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        button {
            background: rgba(59, 130, 246, 0.8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        button:hover {
            background: rgba(59, 130, 246, 1);
            transform: translateY(-2px);
        }
        .screenshot-placeholder {
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            margin: 15px 0;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ Cloudflare Pages Dashboard ç¯å¢ƒå˜é‡è®¾ç½®æŒ‡å—</h1>
    <p>è¯¦ç»†æ­¥éª¤è¯´æ˜å¦‚ä½•åœ¨Cloudflare Dashboardä¸­è®¾ç½® VITE_STRIPE_PUBLISHABLE_KEY ç¯å¢ƒå˜é‡</p>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">1</span>
            <span>ç™»å½•Cloudflare Dashboard</span>
        </div>
        <p>1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® <strong>https://dash.cloudflare.com/</strong></p>
        <p>2. ä½¿ç”¨ä½ çš„Cloudflareè´¦æˆ·ç™»å½•</p>
        <p>3. ç¡®è®¤çœ‹åˆ°Cloudflareä¸»æ§åˆ¶é¢æ¿</p>
        
        <div class="screenshot-placeholder">
            ğŸ“¸ è¿™é‡Œåº”è¯¥çœ‹åˆ°Cloudflareä¸»æ§åˆ¶é¢æ¿ï¼Œå·¦ä¾§æœ‰èœå•æ 
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">2</span>
            <span>è¿›å…¥Pagesé¡¹ç›®</span>
        </div>
        <p>1. åœ¨å·¦ä¾§èœå•ä¸­ï¼Œç‚¹å‡» <span class="highlight">"Pages"</span></p>
        <p>2. åœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡» <span class="highlight">"destiny-frontend"</span> é¡¹ç›®</p>
        <p>3. ç¡®è®¤è¿›å…¥é¡¹ç›®è¯¦æƒ…é¡µé¢</p>
        
        <div class="screenshot-placeholder">
            ğŸ“¸ è¿™é‡Œåº”è¯¥çœ‹åˆ°destiny-frontendé¡¹ç›®çš„æ¦‚è§ˆé¡µé¢ï¼Œæ˜¾ç¤ºéƒ¨ç½²å†å²å’ŒåŸŸåä¿¡æ¯
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">3</span>
            <span>è¿›å…¥è®¾ç½®é¡µé¢</span>
        </div>
        <p>1. åœ¨é¡¹ç›®é¡µé¢é¡¶éƒ¨ï¼Œç‚¹å‡» <span class="highlight">"Settings"</span> æ ‡ç­¾</p>
        <p>2. å‘ä¸‹æ»šåŠ¨æ‰¾åˆ° <span class="highlight">"Environment variables"</span> éƒ¨åˆ†</p>
        
        <div class="screenshot-placeholder">
            ğŸ“¸ Settingsé¡µé¢ä¸­çš„Environment variableséƒ¨åˆ†ï¼Œå¯èƒ½æ˜¾ç¤ºç°æœ‰çš„ç¯å¢ƒå˜é‡
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">4</span>
            <span>è®¾ç½®Stripeç¯å¢ƒå˜é‡</span>
        </div>
        
        <div class="warning">
            âš ï¸ <strong>é‡è¦</strong>: å¦‚æœå·²å­˜åœ¨ VITE_STRIPE_PUBLISHABLE_KEY å˜é‡ï¼Œç‚¹å‡» "Edit" ç¼–è¾‘ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œç‚¹å‡» "Add variable" æ·»åŠ æ–°å˜é‡ã€‚
        </div>
        
        <p><strong>æ·»åŠ æ–°å˜é‡çš„æ­¥éª¤ï¼š</strong></p>
        <p>1. ç‚¹å‡» <span class="highlight">"Add variable"</span> æŒ‰é’®ï¼ˆè“è‰²æŒ‰é’®ï¼‰</p>
        <p>2. åœ¨å¼¹å‡ºçš„è¡¨å•ä¸­å¡«å†™ï¼š</p>
        
        <div class="code-block">
Variable name: VITE_STRIPE_PUBLISHABLE_KEY
Value: pk_live_51RySLYBb9puAdbwBN2l4CKOfb261TBvm9xn1zBUU0HZQFKvMwLpxAsbvkIJWOZG15qYoDmMVw3ajjSXlxyFAjUTg00MW0Kb6um
Environment: Production
        </div>
        
        <p>3. <strong>ç¡®ä¿Environmenté€‰æ‹©ä¸º "Production"</strong>ï¼ˆä¸æ˜¯Previewï¼‰</p>
        <p>4. ç‚¹å‡» <span class="highlight">"Save"</span> ä¿å­˜</p>
        
        <div class="screenshot-placeholder">
            ğŸ“¸ ç¯å¢ƒå˜é‡æ·»åŠ è¡¨å•ï¼Œæ˜¾ç¤ºVariable nameã€Valueå’ŒEnvironmenté€‰æ‹©å™¨
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">5</span>
            <span>éªŒè¯è®¾ç½®å¹¶é‡æ–°éƒ¨ç½²</span>
        </div>
        
        <p>1. <strong>éªŒè¯ç¯å¢ƒå˜é‡</strong>ï¼šåœ¨Environment variablesåˆ—è¡¨ä¸­ç¡®è®¤çœ‹åˆ°ï¼š</p>
        <div class="code-block">
VITE_STRIPE_PUBLISHABLE_KEY
Environment: Production  
Value: pk_live_51RySLY... (æ˜¾ç¤ºå‰å‡ ä½)
        </div>
        
        <p>2. <strong>è§¦å‘é‡æ–°éƒ¨ç½²</strong>ï¼ˆé€‰æ‹©å…¶ä¸­ä¸€ç§æ–¹æ³•ï¼‰ï¼š</p>
        
        <div class="success">
            <strong>æ–¹æ³•1: Dashboardé‡æ–°éƒ¨ç½²</strong><br>
            â€¢ ç‚¹å‡» "Deployments" æ ‡ç­¾<br>
            â€¢ æ‰¾åˆ°æœ€æ–°éƒ¨ç½²ï¼Œç‚¹å‡» "Retry deployment"<br>
            â€¢ æˆ–ç‚¹å‡» "Create deployment" åˆ›å»ºæ–°éƒ¨ç½²
        </div>
        
        <div class="success">
            <strong>æ–¹æ³•2: GitHubæ¨é€è§¦å‘</strong><br>
            â€¢ æ¨é€ä»»ä½•ä»£ç æ›´æ”¹åˆ°GitHub<br>
            â€¢ GitHub Actionsä¼šè‡ªåŠ¨è§¦å‘æ–°éƒ¨ç½²<br>
            â€¢ æ–°éƒ¨ç½²ä¼šä½¿ç”¨æ›´æ–°çš„ç¯å¢ƒå˜é‡
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">6</span>
            <span>éªŒè¯ä¿®å¤æ•ˆæœ</span>
        </div>
        
        <p><strong>ç­‰å¾…éƒ¨ç½²å®Œæˆåï¼ˆé€šå¸¸2-5åˆ†é’Ÿï¼‰ï¼š</strong></p>
        
        <p>1. <strong>è®¿é—®ç½‘ç«™</strong>ï¼š</p>
        <button onclick="window.open('https://indicate.top/membership', '_blank')">
            æ‰“å¼€ indicate.top/membership
        </button>
        
        <p>2. <strong>æµ‹è¯•æ”¯ä»˜åŠŸèƒ½</strong>ï¼š</p>
        <ul>
            <li>ç‚¹å‡»ä»»æ„ä»˜è´¹è®¡åˆ’çš„ "é€‰æ‹©è®¡åˆ’" æŒ‰é’®</li>
            <li>å¦‚æœä»æ˜¾ç¤ºé”™è¯¯ï¼Œç‚¹å‡» "è¯Šæ–­é—®é¢˜" æŒ‰é’®</li>
            <li>æŸ¥çœ‹è¯Šæ–­ç»“æœæ˜¯å¦æ˜¾ç¤ºé…ç½®æ­£ç¡®</li>
        </ul>
        
        <p>3. <strong>é¢„æœŸç»“æœ</strong>ï¼š</p>
        <div class="success">
            âœ… VITE_STRIPE_PUBLISHABLE_KEY: å·²é…ç½®<br>
            âœ… Stripeå¯†é’¥éªŒè¯: å¯†é’¥æ ¼å¼æœ‰æ•ˆ<br>
            âœ… æ”¯ä»˜è¡¨å•æ­£å¸¸æ˜¾ç¤º
        </div>
        
        <p>4. <strong>æµè§ˆå™¨æ§åˆ¶å°éªŒè¯</strong>ï¼š</p>
        <div class="code-block">
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
console.log('VITE_STRIPE_PUBLISHABLE_KEY:', import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY);
console.log('Environment:', import.meta.env.MODE);

// é¢„æœŸè¾“å‡º
VITE_STRIPE_PUBLISHABLE_KEY: "pk_live_51RySLYBb9puAdbwBN2l4CKOfb261TBvm9xn1zBUU0HZQFKvMwLpxAsbvkIJWOZG15qYoDmMVw3ajjSXlxyFAjUTg00MW0Kb6um"
Environment: "production"
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">ğŸ”§</span>
            <span>åç«¯éƒ¨ç½²é—®é¢˜ä¿®å¤</span>
        </div>
        
        <div class="success">
            <strong>âœ… åç«¯èµ„æºæ£€æŸ¥å®Œæˆ</strong><br>
            â€¢ Queues: ai-processing-queue, ai-processing-dlq âœ…<br>
            â€¢ D1 Database: destiny-db âœ…<br>
            â€¢ R2 Bucket: destiny-backups âœ…<br>
            â€¢ Durable Objects: AIProcessor, BatchCoordinator âœ…<br>
            â€¢ å¹²è¿è¡Œéƒ¨ç½²: æˆåŠŸ âœ…
        </div>
        
        <div class="warning">
            <strong>âš ï¸ GitHub Actionsåç«¯éƒ¨ç½²å¤±è´¥åŸå› </strong><br>
            å¯èƒ½æ˜¯API Tokenæƒé™ä¸è¶³ï¼Œå·²åœ¨å·¥ä½œæµä¸­æ·»åŠ  --force å‚æ•°
        </div>
        
        <p><strong>å¦‚æœGitHub Actionsä»ç„¶å¤±è´¥ï¼Œæ‰‹åŠ¨éƒ¨ç½²åç«¯ï¼š</strong></p>
        <div class="code-block">
cd backend
wrangler deploy --compatibility-date=2024-08-01 --keep-vars --force
        </div>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">ğŸ“‹</span>
            <span>å®Œæ•´éªŒè¯æ¸…å•</span>
        </div>
        
        <div class="code-block">
â–¡ åœ¨Cloudflare Pages Dashboardä¸­è®¾ç½® VITE_STRIPE_PUBLISHABLE_KEY
â–¡ ç¯å¢ƒé€‰æ‹©ä¸º "Production"
â–¡ ä½¿ç”¨çœŸå®çš„ç”Ÿäº§Stripeå¯†é’¥ (pk_live_å¼€å¤´)
â–¡ è§¦å‘é‡æ–°éƒ¨ç½²
â–¡ ç­‰å¾…éƒ¨ç½²å®Œæˆ (2-5åˆ†é’Ÿ)
â–¡ è®¿é—® https://indicate.top/membership æµ‹è¯•
â–¡ æ”¯ä»˜æŒ‰é’®ä¸å†æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
â–¡ Stripeè¯Šæ–­å·¥å…·æ˜¾ç¤ºé…ç½®æ­£ç¡®
        </div>
        
        <button onclick="window.open('https://dash.cloudflare.com/', '_blank')">
            ğŸ”— æ‰“å¼€ Cloudflare Dashboard
        </button>
        
        <button onclick="window.open('https://indicate.top/membership', '_blank')">
            ğŸ§ª æµ‹è¯•æ”¯ä»˜åŠŸèƒ½
        </button>
    </div>

    <div class="step-container">
        <div class="step-title">
            <span class="step-number">ğŸš¨</span>
            <span>å¸¸è§é—®é¢˜è§£å†³</span>
        </div>
        
        <div class="error">
            <strong>é—®é¢˜1: æ‰¾ä¸åˆ° "Environment variables" éƒ¨åˆ†</strong><br>
            è§£å†³: ç¡®ä¿åœ¨æ­£ç¡®çš„é¡¹ç›® (destiny-frontend) çš„ Settings é¡µé¢ï¼Œå‘ä¸‹æ»šåŠ¨æŸ¥æ‰¾
        </div>
        
        <div class="error">
            <strong>é—®é¢˜2: è®¾ç½®åä»æ˜¾ç¤ºå ä½ç¬¦</strong><br>
            è§£å†³: ç¡®ä¿é€‰æ‹©äº† "Production" ç¯å¢ƒï¼Œä¿å­˜åé‡æ–°éƒ¨ç½²ï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜
        </div>
        
        <div class="error">
            <strong>é—®é¢˜3: æ— æ³•ä¿å­˜ç¯å¢ƒå˜é‡</strong><br>
            è§£å†³: æ£€æŸ¥è´¦æˆ·æƒé™ï¼Œåˆ·æ–°é¡µé¢é‡è¯•ï¼Œç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½å®Œæˆåçš„æç¤º
        window.addEventListener('load', () => {
            console.log('ğŸ“‹ Cloudflare Pages Dashboard è®¾ç½®æŒ‡å—å·²åŠ è½½');
            console.log('ğŸ¯ ç›®æ ‡: è®¾ç½® VITE_STRIPE_PUBLISHABLE_KEY ç¯å¢ƒå˜é‡');
            console.log('ğŸ”— Cloudflare Dashboard: https://dash.cloudflare.com/');
        });
    </script>
</body>
</html>
